{% extends 'core/base.html' %}
{% block title %}Your Cart{% endblock %}

{% block maincontent %}

<h1 style="text-align: center; color: #ff8000; margin-top: 30px; font-size: large; font-weight: bolder;"> Your Cart ðŸ›’</h1>

<style>
  table {
    width: 80%;
    margin: 20px auto;
    border-collapse: collapse;
    font-family: 'Segoe UI', sans-serif;
    background-color: #fff8f0;
    box-shadow: 0 0 10px rgba(255, 128, 0, 0.2);
  }

  th, td {
    padding: 12px 20px;
    border: 1px solid #ffd6a0;
    text-align: center;
  }

  th {
    background-color: #ffcc80;
    color: #333;
    font-size: 16px;
  }

  tr:nth-child(even) {
    background-color: #fff3e0;
  }

  tr:hover {
    background-color: #ffe0b2;
  }

  td strong {
    color: #e65100;
  }

  .place-order-btn {
    display: block;
    width: 200px;
    margin: 40px auto 20px auto;
    padding: 12px 25px;
    background-color: #ff8000;
    color: white;
    font-size: 16px;
    text-align: center;
    text-decoration: none;
    border-radius: 8px;
    transition: background-color 0.3s ease;
  }

  .place-order-btn:hover {
    background-color: #e67300;
  }

  .delete-btn {
    background-color: #ff4444;
    color: white;
    border: none;
    padding: 6px 12px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
    transition: background-color 0.3s ease;
  }

  .delete-btn:hover {
    background-color: #cc0000;
  }
  .qty-btn {
  background-color: #ff8000;
  color: white;
  border: none;
  padding: 4px 10px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
  font-weight: bold;
}

.qty-btn:hover {
  background-color: #e67300;
}

</style>

<table>
  <tr>
    <th>Item</th>
    <th>Quantity</th>
    <th>Price</th>
    <th>Total</th>
    <th>Action</th>
  </tr>

  {% for cart_item in cart_items %}
  <tr>
    <td>{{ cart_item.item.name }}</td>
    <td>
  <form action="{% url 'decrease_quantity' cart_item.id %}" method="post" style="display:inline;">
    {% csrf_token %}
    <button type="submit" class="qty-btn">-</button>
  </form>

  <span style="margin: 0 10px;">{{ cart_item.quantity }}</span>

  <form action="{% url 'increase_quantity' cart_item.id %}" method="post" style="display:inline;">
    {% csrf_token %}
    <button type="submit" class="qty-btn">+</button>
  </form>
</td>
 1  
    <td>â‚¹{{ cart_item.item.price }}</td>
    <td>â‚¹{{ cart_item.get_total_price }}</td>
    <td>
      <form action="{% url 'delete_cart_item' cart_item.id %}" method="post" style="display:inline;">
        {% csrf_token %}
        <button type="submit" class="delete-btn">Delete</button>
      </form>
    </td>
  </tr>
  {% empty %}
  <tr>
    <td colspan="5">Your cart is empty.</td>
  </tr>
  {% endfor %}

  {% if cart_items %}
  <tr>
    <td colspan="3"><strong>Total</strong></td>
    <td><strong>â‚¹{{ total }}</strong></td>
    <td></td>
  </tr>
  {% endif %}
</table>

{% if cart_items %}
<a href="{% url 'customer_details' %}" class="place-order-btn">Place Order</a>
{% endif %}

{% endblock %}
